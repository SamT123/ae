{
    "init": [
        {"N": "set",
         "?report-cumulative-output": "-", "report-cumulative-max": 30,
         "gap-bvic-after-3del-bar": 0.025,
         "?canvas-height": 10000,
         "ladderize-method": "none"
        }
    ],

    "tal": [
        {"N": "canvas", "height": "$canvas-height"},
        {"N": "margins", "left": 0.005},
        {"N": "tree", "width-to-height-ratio": 0.41},

        "clades-whocc",
        "eu-aa-transitions",

        {"?N": "nodes", "select": {"top-cumulative-gap": 2.0, "report": true}, "apply": {"hide": true, "tree-edge-line-color": "red"}},
        {"?N": "nodes", "select": {"cumulative >=": 0.028, "report": true}, "apply": {"hide": true, "tree-edge-line-color": "red"}},

        {"?N": "dash-bar-aa-at", "id": "bar-197", "pos": 197, "dash": {"width": 1.0, "line_width_pixels": 0.5}},

        {"N": "gap", "width-to-height-ratio": 0.03},

        {"N": "time-series", "start": "2016-07", "end": "2022",
         "slot": {"width": 0.0058, "label": {"scale": 1.0, "rotation": "clockwise"}},
         "dash": {"width": 0.5, "line_width_pixels": 0.1}},

        {"N": "clades", "slot": {"width": 0.007}, "width-to-height-ratio": 0.015,
         "all-clades": {"label": {"scale": 1.4}},
         "per-clade": [
             {"name": "V1A.1",   "section-inclusion-tolerance": 40, "slot": 4, "section-exclusion-tolerance": 33, "display_name": "V1A.1",                          "label": {"rotation_degrees": 90, "scale": 1.4}},
             {"name": "V1A.3",   "section-inclusion-tolerance": 20, "slot": 4, "section-exclusion-tolerance": 20, "display_name": ["V1A.2", "V1A.3", "3del extra"], "label": {"rotation_degrees": 90, "scale": 1.4}},
             {"name": "V1A.3a",  "section-inclusion-tolerance": 50, "slot": 2, "section-exclusion-tolerance": 11, "display_name": "V1A.3a",                         "label": {"rotation_degrees": 90, "scale": 1.4}},
             {"name": "V1A.3a1", "section-inclusion-tolerance": 50, "slot": 0, "section-exclusion-tolerance": 11, "display_name": "V1A.3a1",                        "label": {"rotation_degrees": 90, "scale": 1.4}},
             {"name": "V1A.3a2", "section-inclusion-tolerance": 50, "slot": 0, "section-exclusion-tolerance": 11, "display_name": "V1A.3a2",                        "label": {"rotation_degrees": 90, "scale": 1.4}}
         ]
        },
        {"N": "nodes", "select": {"vaccine": {"type": "current", "?passage": "cell"}, "report": false}, "apply": "report"},
        {"?N": "nodes", "select": {"vaccine": {"type": "current", "passage": "egg"}, "report": false}, "apply": {"text": {"text": "B/Austria/1359417/2021",         "offset": [-0.5, 0.005], "absolute_x": 0.52, "color": "black", "size": 0.01}}},
        {"N": "nodes", "select": {"seq_id": "WASHINGTON/2/2019_OR_E2E43FFE", "report": true}, "apply": {"text": {"text": "B/Washington/2/2019",         "offset": [-0.4, 0.005], "absolute_x": 0.52, "color": "black", "size": 0.01}}},
        {"N": "nodes", "select": {"seq_id": "AUSTRIA/1359417/2021_E3_BE8EB703", "report": true}, "apply": {"text": {"text": "B/Austria/1359417/2021",         "offset": [-0.46, 0.005], "absolute_x": 0.52, "color": "black", "size": 0.01}}},

        {"N": "nodes", "select": {"seq_id": "(B/VIRGINIA/10007/2019_OR_h89CCD37C|B/MISSISSIPPI/10054/2019_OR_h89CCD37C|B/MISSOURI/9919/2019_OR_h89CCD37C|B/VIRGINIA/10128/2019_OR_h89CCD37C|B/VIRGINIA/10129/2019_OR_h89CCD37C|B/VIRGINIA/10131/2019_OR_h89CCD37C|B/VIRGINIA/10261/2019_OR_h89CCD37C|B/VIRGINIA/10262/2019_OR_h89CCD37C|B/VIRGINIA/10263/2019_OR_h89CCD37C|B/VIRGINIA/10264/2019_OR_h89CCD37C|B/VIRGINIA/10265/2019_OR_h89CCD37C|B/VIRGINIA/10266/2019_OR_h89CCD37C|B/VIRGINIA/10268/2019_OR_h89CCD37C|B/MISSOURI/10211/2019_OR_h89CCD37C|B/VIRGINIA/10269/2019_OR_h89CCD37C|B/GEORGIA/10207/2019_OR_h89CCD37C|B/VIRGINIA/10270/2019_OR_h89CCD37C|B/VIRGINIA/10271/2019_OR_h89CCD37C|B/VIRGINIA/10273/2019_OR_h89CCD37C|B/VIRGINIA/10275/2019_OR_h89CCD37C|B/VIRGINIA/10276/2019_OR_h89CCD37C|B/VIRGINIA/10277/2019_OR_h89CCD37C|B/VIRGINIA/10278/2019_OR_h89CCD37C|B/VIRGINIA/10280/2019_OR_h89CCD37C|B/TEXAS/11058/2019_OR_h89CCD37C|B/VIRGINIA/10420/2019_OR_h89CCD37C|B/VIRGINIA/10422/2019_OR_h89CCD37C|B/VIRGINIA/10423/2019_OR_h89CCD37C|B/VIRGINIA/10424/2019_OR_h89CCD37C|B/VIRGINIA/10425/2019_OR_h89CCD37C|B/VIRGINIA/10426/2019_OR_h89CCD37C|B/VIRGINIA/10427/2019_OR_h89CCD37C|B/VIRGINIA/10430/2019_OR_h89CCD37C|B/VIRGINIA/10431/2019_OR_h89CCD37C|B/VIRGINIA/10432/2019_OR_h89CCD37C|B/VIRGINIA/10707/2019_OR_h89CCD37C|B/VIRGINIA/10710/2019_OR_h89CCD37C|B/VIRGINIA/10434/2019_OR_h89CCD37C|B/VIRGINIA/10711/2019_OR_h89CCD37C|B/VIRGINIA/10712/2019_OR_h89CCD37C|B/GEORGIA/10588/2019_OR_h89CCD37C|B/GEORGIA/10589/2019_OR_h89CCD37C|B/VIRGINIA/10717/2019_OR_h89CCD37C|B/VIRGINIA/10718/2019_OR_h89CCD37C|B/VIRGINIA/10722/2019_OR_h89CCD37C|B/VIRGINIA/10723/2019_OR_h89CCD37C|B/VIRGINIA/10725/2019_OR_h89CCD37C|B/VIRGINIA/10728/2019_OR_h89CCD37C|B/VIRGINIA/10727/2019_OR_h89CCD37C|B/VIRGINIA/10730/2019_OR_h89CCD37C|B/VIRGINIA/10731/2019_OR_h89CCD37C|B/VIRGINIA/10732/2019_OR_h89CCD37C|B/VIRGINIA/10734/2019_OR_h89CCD37C|B/VIRGINIA/11067/2019_OR_h89CCD37C|B/VIRGINIA/11068/2019_OR_h89CCD37C|B/VIRGINIA/11069/2019_OR_h89CCD37C|B/OKLAHOMA/10999/2019_OR_h89CCD37C|B/VIRGINIA/11070/2020_OR_h89CCD37C|B/VIRGINIA/11071/2020_OR_h89CCD37C|B/VIRGINIA/11453/2020_OR_h89CCD37C|B/NEBRASKA/11375/2020_OR_h89CCD37C|B/COLORADO/11336/2020_OR_h89CCD37C|B/TEXAS/11445/2020_OR_h89CCD37C|B/NEW_YORK/11386/2020_OR_h89CCD37C|B/VIRGINIA/11835/2020_OR_h89CCD37C|B/VIRGINIA/11836/2020_OR_h89CCD37C|B/UTAH/11832/2020_OR_h89CCD37C|B/MARYLAND/11756/2020_OR_h89CCD37C|B/VIRGINIA/11957/2020_OR_h89CCD37C|B/COLORADO/12049/2020_OR_h89CCD37C)"},
         "apply": {"hide": true}, "?": "Sarah 2021-07-06 18:57: hide 70 U.S. AIR FORCE SCHOOL OF AEROSPACE MEDICINE strains of the B/WASHINGTON/2/2019 region in the tree"},

        "hz"
    ],

    "hz": [
        {"N": "hz-sections", "report": true,
         "?line": {"color": "black", "line_width": 1},
         "?top-gap": 0.01, "?bottom-gap": 0.01,
         "sections": [
             {"show": true,  "id": "V1A.3-0",   "L": "A", "V": [ 3384,  3465], "first": "KANAGAWA/1/2019_MDCK2/MDCK1_28437632",      "last": "CANBERRA/1/2019_MDCK1_5787F988",                 "label": "V1A.2",   "aa_transitions": "K209N I180T",       "All transitions": "I117V N129D V146I K209N K162- N163- D164- I180T"                                    },
             {"show": true,  "id": "V1A.1-0",   "L": "B", "V": [ 4746,  6888], "first": "DOMINICAN_REPUBLIC/9932/2016_OR_32AFD72B",  "last": "ARGENTINA/2874/2019_OR_95B51647",                "label": "V1A.1",   "aa_transitions": "R498K I180V",       "All transitions": "I117V N129D V146I R498K I180V"                                                      },
             {"show": true,  "id": "V1A.3-1",   "L": "C", "V": [ 6891,  7474], "first": "INDIA/PUN-1920794/2019_F17A6976",           "last": "NIGER/6117/2018_OR_A6C0445D",                    "label": "V1A.3",   "aa_transitions": "",                  "All transitions": "I117V N129D V146I K136E K162- N163- D164-"                                          },
             {"show": false, "id": "V1A.3a-0",  "L": " ", "V": [ 7475,  7566], "first": "NIGER/6117/2018_OR_A6C0445D",               "last": "OMAN/4234/2019_SIAT1/MDCK1_6AAC3E01",            "label": "V1A.3a",  "aa_transitions": "",                  "All transitions": "I117V N129D V146I K136E K162- N163- D164- N150K G184E N197D R279K"                  },
             {"show": true,  "id": "V1A.3a1-0", "L": "D", "V": [ 7567,  8138], "first": "OMAN/4234/2019_SIAT1/MDCK1_6AAC3E01",       "last": "FUJIAN_CANGSHAN/1754/2021_MDCK1/MDCK1_6EEC44DE", "label": "V1A.3a1", "aa_transitions": "P241Q V220M",       "All transitions": "I117V N129D V146I K136E K162- N163- D164- N150K G184E N197D R279K P241Q V220M"      },
             {"show": false, "id": "V1A.3a-1",  "L": " ", "V": [ 8139,  8175], "first": "BANGLADESH/1746/2019_OR_1F7DC313",          "last": "BHUTAN/1602/2020_OR_1984C12D",                   "label": "V1A.3a",  "aa_transitions": "",                  "All transitions": "I117V N129D V146I K136E K162- N163- D164- N150K G184E N197D R279K"                  },
             {"show": true,  "id": "V1A.3a2-0", "L": "E", "V": [ 8176,  8747], "first": "BANGLADESH/1190903008/2019_OR_3FB5A03A",    "last": "BANGLADESH/810002/2021_OR_5293CAF2",             "label": "V1A.3a2", "aa_transitions": "A127T P144L K203R", "All transitions": "I117V N129D V146I K136E K162- N163- D164- N150K G184E N197D R279K A127T P144L K203R"},
             {"show": true,  "id": "V1A.3-2",   "L": "F", "V": [ 8748, 10021], "first": "NIGER/6292/2018_OR_623869AB",               "last": "HAITI/20371/2021_OR_FBC138D1",                   "label": "V1A.3",   "aa_transitions": "",                  "All transitions": "I117V N129D V146I K136E K162- N163- D164- G133R"                                    },
             {"show": true,  "id": "V1A.3-3",   "L": "G", "V": [10022, 12702], "first": "KANAGAWA/AC1886/2019_MDCK0/MDCK1_AB21BDE2", "last": "WISCONSIN/237/2020_OR_981F3986",                 "label": "V1A.3",   "aa_transitions": "E128K",             "All transitions": "I117V N129D V146I K136E K162- N163- D164- G133R E128K"                              },
             {"show": true,  "id": "V1A.3-4",   "L": "H", "V": [12703, 15843], "first": "EHIME/1/2019_MDCK1/MDCK1_BA2213AC",         "last": "SICHUAN_GAOXIN/1966/2018_MDCK1_C2590495",                    "label": "V1A.3",   "aa_transitions": "",                  "All transitions": "I117V N129D V146I K136E K162- N163- D164- G133R"                                    },
             {"show": true,  "id": "V1A.3-5",   "L": "I", "V": [15844, 16311], "first": "SICHUAN_GAOXIN/1966/2018_MDCK1_C2590495",   "last": "GUANGDONG_YUANCHENG/1559/2019_E1/E1_08224F4E",   "label": "V1A.3",   "aa_transitions": "",                  "All transitions": "I117V N129D V146I K136E G133R K162- N163- V164-"                                    },
         ]
        }
    ],

    "eu-aa-transitions": [
        {"N": "draw-aa-transitions",
         "?method": "eu-20200915", "?method": ["eu-20210503", "eu-20200915", "eu-20200909", "derek-20200907", "derek-2016", "eu-20200514"],
         "minimum-number-leaves-in-subtree": 0.00767,
         "all-nodes": {"label": {"color": "grey30"}},
         "?pre-node-fix": "eo tree-transitions-merge <enter> <paste>",
         "per-node": [
             {"name": "I117V N129D V146I",       "label": {"offset": [-0.02, 0.02], "?box": [0.03, 0.023]},   "node_id": "180.341",  "show": true,  "?first": "BRAZIL/5473/2016_OR_9B3CC89B",               "?last": "GUANGDONG_YUANCHENG/1559/2019_E1/E1_08224F4E",   "?before first": "RHEINLAND-PFALZ/43/2016_MDCK2/MDCK1_31F36F9B", "?after last": null                                      },
             {"name": "V379I",                   "label": {"offset": [-0.06, 0.01], "?box": [0.03, 0.006]}, "node_id": "4260.7",   "show": true,  "?first": "ARIZONA/6/2017_OR_F077AAD0",                 "?last": "FLORIDA/31/2019_OR_AE7A1AD8",                    "?before first": "MARYLAND/6/2019_OR_3DCFD3DE",                  "?after last": "ALBERTA/RV3067/2016_P1_6F87561D"         },
             {"name": "V87A I175V",              "label": {"offset": [-0.09, 0.01], "?box": [0.03, 0.015]},    "node_id": "4495.5",   "show": true,  "?first": "IOWA/27/2016_OR_417FF196",                   "?last": "CALIFORNIA/11/2018_OR_8CAC8264",                 "?before first": "SINGAPORE/EN0025/2018_OR_E9C3CD2E",            "?after last": "BANGLADESH/3004/2017_OR_D2B16378"        },
             {"name": "R498K",                   "label": {"offset": [-0.04, 0.03], "?box": [0.03, 0.006]},   "node_id": "4812.11",  "show": true,  "?first": "BANGLADESH/3004/2017_OR_D2B16378",           "?last": "ARGENTINA/2874/2019_OR_95B51647",                "?before first": "CALIFORNIA/11/2018_OR_8CAC8264",               "?after last": "ENGLAND/61480721/2016_OR_5B4BCBC4"       },
             {"name": "I180V",                   "label": {"offset": [-0.015, 0.02], "?box": [0.03, 0.006]},  "node_id": "4897.10",  "show": true,  "?first": "NEW_YORK/21/2015_MDCK1_7E6ED63D",            "?last": "ARGENTINA/2874/2019_OR_95B51647",                "?before first": "JIANGXI_GUIXI/1970/2016_MDCK1/MDCK1_F898BCDA", "?after last": "ENGLAND/61480721/2016_OR_5B4BCBC4"       },
             {"name": "D129G K162- N163-",       "label": {"offset": [-0.01, 0.025], "?box": [0.03, 0.023]},   "node_id": "5064.9",   "show": true,  "?first": "MISSISSIPPI/2/2017_OR_F2B7E41F",             "?last": "ARGENTINA/2874/2019_OR_95B51647",                "?before first": "MICHIGAN/56/2017_OR_26FAE68E",                 "?after last": "ENGLAND/61480721/2016_OR_5B4BCBC4"       },
             {"name": "K136E K162- N163- D164-", "label": {"offset": [-0.05, 0.01], "?box": [0.03, 0.031]},  "node_id": "7234.334", "show": true,  "?first": "INDIA/PUN-1920794/2019_F17A6976",            "?last": "GUANGDONG_YUANCHENG/1559/2019_E1/E1_08224F4E",   "?before first": "ONTARIO/RV1913/2017_P1_5B4BCBC4",              "?after last": null                                      },
             {"name": "N126K",                   "label": {"offset": [-0.06, 0.04], "?box": [0.03, 0.006]},   "node_id": "7265.5",   "show": true,  "?first": "TOGO/332/2019_OR_3AD62572",                  "?last": "SWEDEN/53/2020_OR_C06DAEF1",                     "?before first": "ANHUI_TIANJIAAN/1933/2018_MDCK2_BBCB7EFC",     "?after last": "MALAYSIA/RP0995/2020_Xx/MDCK1_9A1711E6"  },
             {"name": "P241Q",                   "label": {"offset": [-0.04, 0.02], "?box": [0.03, 0.006]},   "node_id": "7630.5",   "show": true,  "?first": "MAURITIUS/I-1862/2019_MDCKx/MDCK3_AD5A64AF", "?last": "FUJIAN_CANGSHAN/1754/2021_MDCK1/MDCK1_6EEC44DE", "?before first": "VICTORIA/2113/2019_MDCK1_FD036C80",            "?after last": "BANGLADESH/1746/2019_OR_1F7DC313"        },
             {"name": "N150K G184E N197D R279K", "label": {"offset": [-0.065, 0.03], "?box": [0.03, 0.031]}, "node_id": "7653.11",  "show": true,  "?first": "MALAYSIA/RP0995/2020_Xx/MDCK1_9A1711E6",     "?last": "BANGLADESH/810002/2021_OR_5293CAF2",             "?before first": "SWEDEN/53/2020_OR_C06DAEF1",                   "?after last": "NIGER/6292/2018_OR_623869AB"             },
             {"name": "V220M",                   "label": {"offset": [-0.02, 0.016], "?box": [0.03, 0.006]},   "node_id": "7843.3",   "show": true,  "?first": "OMAN/4234/2019_SIAT1/MDCK1_6AAC3E01",        "?last": "FUJIAN_CANGSHAN/1754/2021_MDCK1/MDCK1_6EEC44DE", "?before first": "BURAIMI/6667/2019_MDCK1_2D9D4509",             "?after last": "BANGLADESH/1746/2019_OR_1F7DC313"        },
             {"name": "A127T",                   "label": {"offset": [-0.04, 0.02], "?box": [0.03, 0.006]},  "node_id": "8242.8",   "show": true,  "?first": "BHUTAN/212/2019_OR_950B1636",                "?last": "BANGLADESH/810002/2021_OR_5293CAF2",             "?before first": "NEPAL/20FL0829/2020_HCK0/HCK2_F02ABD6F",       "?after last": "NIGER/6292/2018_OR_623869AB"             },
             {"name": "P144L K203R",             "label": {"offset": [-0.02, 0.007], "?box": [0.03, 0.015]},  "node_id": "8315.7",   "show": true,  "?first": "BANGLADESH/1190903008/2019_OR_3FB5A03A",     "?last": "BANGLADESH/810002/2021_OR_5293CAF2",             "?before first": "BHUTAN/1602/2020_OR_1984C12D",                 "?after last": "NIGER/6292/2018_OR_623869AB"             },
             {"name": "D129N N233S",             "label": {"offset": [-0.055, 0.01], "?box": [0.03, 0.015]},  "node_id": "8848.5",   "show": true,  "?first": "TOGO/951/2019_OR_F41F0DEE",                  "?last": "NORDRHEIN-WESTFALEN/6/2020_C1-ori_3E9374F5",     "?before first": "PARIS/43/2020_OR_D6825B4A",                    "?after last": "FLORIDA/37/2019_OR_63F82FFF"             },
             {"name": "G133R",                   "label": {"offset": [-0.03, 0.02], "?box": [0.03, 0.006]},   "node_id": "9365.331", "show": true,  "?first": "NIGER/6292/2018_OR_623869AB",                "?last": "GUANGDONG_YUANCHENG/1559/2019_E1/E1_08224F4E",   "?before first": "BANGLADESH/810002/2021_OR_5293CAF2",           "?after last": null                                      },
             {"name": "E128K",                   "label": {"offset": [-0.05, 0.02], "?box": [0.03, 0.006]},   "node_id": "10602.7",  "show": true,  "?first": "KANAGAWA/AC1886/2019_MDCK0/MDCK1_AB21BDE2",  "?last": "WISCONSIN/237/2020_OR_981F3986",                 "?before first": "HAITI/20371/2021_OR_FBC138D1",                 "?after last": "EHIME/1/2019_MDCK1/MDCK1_BA2213AC"       },
             {"name": "R133K",                   "label": {"offset": [-0.07, 0.02], "?box": [0.03, 0.006]},   "node_id": "11839.2",  "show": true,  "?first": "ALBERTA/RV2549/2019_P1_3E7A6DAE",            "?last": "CALIFORNIA/75/2019_OR_E41476B1",                 "?before first": "ENGLAND/126/2020_OR_90CC63E9",                 "?after last": "NEVADA/9952/2019_OR_3B350AFE"            },
             {"name": "-162K -163N -164V",       "label": {"offset": [-0.04, 0.02], "?box": [0.03, 0.023]},   "node_id": "14832.24", "show": false, "?first": "GEORGIA/22/2019_OR_E4DA7054",                "?last": "GUANGDONG_YUANCHENG/1559/2019_E1/E1_08224F4E",   "?before first": "PENNSYLVANIA/32/2020_OR_F97C9506",             "?after last": null                                      },
             {"name": "K162- N163- V164-",       "label": {"offset": [-0.04, 0.02], "?box": [0.03, 0.023]},   "node_id": "14896.5",  "show": false, "?first": "SAUDI_ARABIA/1081638130/2019_OR_92A6798A",   "?last": "WISCONSIN/101/2020_OR_7DCE262D",                 "?before first": "VIRGINIA/12198/2020_OR_55000F97",              "?after last": "MANITOBA/RV2456/2019_P1_A579F892"        },
             {"name": "K162- N163- V164-",       "label": {"offset": [-0.04, 0.016], "?box": [0.03, 0.023]},  "node_id": "15305.4",  "show": false, "?first": "FLORIDA/38/2019_OR_6CB9C0D8",                "?last": "PARIS/3072/2020_MDCK2_211904B0",                 "?before first": "SELENGE/2761/2019_MDCK1/MDCK1_BA4CF124",       "?after last": "HONG_KONG/291/2019_MDCKx_F07931B4"       },
             {"name": "K162- N163- V164-",       "label": {"offset": [-0.04, 0.04], "?box": [0.03, 0.023]},   "node_id": "15579.4",  "show": false, "?first": "TAIWAN/70482/2019_MDCK2_F0A6C1CE",           "?last": "OKLAHOMA/6/2020_OR_4E17FF30",                    "?before first": "CAMBODIA/FSS42434/2019_MDCK1_D5329EF9",        "?after last": "SICHUAN_GAOXIN/1966/2018_MDCK1_C2590495" },
             {"name": "N233K",                   "label": {"offset": [-0.07, 0.02], "?box": [0.03, 0.006]},   "node_id": "15647.3",  "show": true,  "?first": "ONTARIO/RV2490/2019_P1_DA27668C",            "?last": "OKLAHOMA/6/2020_OR_4E17FF30",                    "?before first": "YAMAGATA/162/2019_MDCK2/MDCK1_A5B1710A",       "?after last": "SICHUAN_GAOXIN/1966/2018_MDCK1_C2590495" },
             {"name": "K162- N163- V164-",       "label": {"offset": [-0.04, 0.03], "?box": [0.03, 0.023]},   "node_id": "16066.4",  "show": false, "?first": "SICHUAN_GAOXIN/1966/2018_MDCK1_C2590495",    "?last": "GUANGDONG_YUANCHENG/1559/2019_E1/E1_08224F4E",   "?before first": "OKLAHOMA/6/2020_OR_4E17FF30",                  "?after last": null                                      }
         ]
        }
    ]

}
